<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>



    <section id="createPostForm">
        <div class="container col-xl-10 col-xxl-8 px-4 py-5">
            <div class="row align-items-center g-lg-5 py-5">
              <div class="col-lg-7 text-center text-lg-start">
                <h1 class="display-4 fw-bold lh-1 text-body-emphasis mb-3">Welcome to My Blog</h1>
                <p class="col-lg-10 fs-4">
                    This site serves as a simple platform where users can create and view posts, as well as edit or remove them.</p>
              </div>
              <div class="col-md-10 mx-auto col-lg-5">
                <form action="/createPost" method="POST" class="p-4 p-md-5 border rounded-3 bg-body-tertiary">
                    <h2 class="text-center">Create a Post</h2>
                    <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="postTitle" name="title" required>
                    <label for="postTitle">Title</label>
                  </div>
                  <div class="form-floating mb-3">
                    <textarea class="form-control" id="postContent" name="content" style="height: 150px; resize: none;" required></textarea>
                    <label for="postContent">Content</label>
                  </div>
                  <button class="w-100 btn btn-lg btn-primary" type="submit">Submit</button>
                </form>
              </div>
            </div>
          </div> 
    </section>
    <section id="displayPosts">
        <% if (locals.posts) { %>
          <% for (const post of posts) { %>
            <div class="container mb-5">
                <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg">
                  <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
                    <h2 class="display-6 fw-bold lh-1 text-body-emphasis"><%= post["title"] %></h2>
                    <p class="lead"><%= post["content"] %></p>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
                      <a href="/editPost/<%= post["id"] %>" class="btn btn-primary btn-lg px-4 me-md-2 fw-bold" role="button">Edit</a>
                      <a href="/deletePost/<%= post["id"] %>" class="btn btn-outline-secondary btn-lg px-4" role="button">Delete</a>
                    </div>
                  </div>
                </div>
              </div>
          <% } %>
        <% } %>
    </section>
  </body>
</html>
